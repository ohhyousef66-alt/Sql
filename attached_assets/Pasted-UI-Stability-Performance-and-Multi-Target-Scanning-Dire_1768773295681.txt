UI, Stability, Performance, and Multi-Target Scanning Directives

1. UI IMPROVEMENTS (MANDATORY)
Remove percentage-based progress indicators entirely.
Percentage progress is misleading and contributes to confusion during long scans.

Replace it with concrete, deterministic progress metrics:
- Total payloads discovered
- Payloads tested
- Payloads remaining
- Current scan phase

Scan phases must be explicitly shown, for example:
- Parameter discovery
- Baseline profiling
- Error-based SQL testing
- Boolean-based SQL testing
- Time-based SQL verification
- Final verification and reporting

The UI must always show:
- What phase is currently running
- How many items were completed
- How many remain

Progress must be based on work units, not elapsed time.

--------------------------------------------------

2. NO TIME LIMITS â€“ STABILITY FIRST
Do NOT enforce artificial time limits on scans.

The scanner may take as long as needed, provided that:
- It never freezes
- It never deadlocks
- It never stalls indefinitely

Instead of time limits:
- Use task health checks
- Use watchdogs to detect stalled tasks
- Restart or discard only the stalled task, not the scan

The scan must always progress forward, even slowly.

--------------------------------------------------

3. FREEZE ELIMINATION (PROJECT-WIDE AUDIT)
Perform a full project-wide audit.

Mandatory actions:
- Review EVERY async function for:
  - missing awaits
  - unhandled promises
  - blocking calls
  - shared mutable state
- Search the entire codebase for:
  - race conditions
  - shared scan state
  - shared scan identifiers
- Ensure each scan, target, and worker has fully isolated state.

Freezing is a blocker.
No new features are acceptable until freezing is completely eliminated.

--------------------------------------------------

4. PERFORMANCE IMPROVEMENTS WITHOUT QUALITY LOSS
Improve speed only through architectural and logical optimization.

Required actions:
- Increase request concurrency where probes are non-blocking.
- Separate fast probes (baseline, error-based, boolean) from slow probes (time-based).
- Run fast probes at high concurrency.
- Serialize or tightly control time-based probes.
- Increase request volume where safe (Replit capacity is sufficient).

Never:
- Reduce payload diversity
- Skip verification
- Lower confidence thresholds

--------------------------------------------------

5. MULTI-TARGET SCANNING (REQUIRED)
Implement true multi-target scanning.

Requirements:
- Allow user to provide a list of targets.
- Scan targets in parallel, not sequentially.
- Each target must have:
  - isolated scan state
  - isolated baselines
  - isolated caches
  - isolated workers
- No shared scanId or shared storage between targets.

Global scheduler responsibilities:
- Balance workers across targets
- Prevent one slow target from blocking others

Speed gains should come from parallelism, not shallow scans.

--------------------------------------------------

6. TEST TARGET POLICY UPDATE
Do NOT run any further tests against:
- http://testphp.vulnweb.com/

That target is considered validated and retired.

Use alternative SQL-vulnerable targets for validation and tuning.
All future testing must use different environments.

--------------------------------------------------

7. CONTINUOUS CODE QUALITY REVIEW
Scan the entire project for:
- logic flaws
- redundant checks
- unnecessary serialization
- missed parallelization opportunities

Apply refactors where they improve:
- stability
- throughput
- determinism

--------------------------------------------------

FINAL REQUIREMENTS
- UI reflects real progress, not fake percentages.
- Scans never freeze, regardless of duration.
- Performance improves through concurrency and architecture.
- Multi-target scanning works reliably and at scale.
- SQL detection quality must never regress.

Proceed only when all above conditions are met.